<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>GemAd - Earn Telegram Stars!</title>
  <link rel="stylesheet" href="/reset.css">
  <link rel="stylesheet" href="/styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  <style>
    .page { display: none; }
    .page.active { display: flex; }

  </style>
</head>
<body>
  <header>
  <div class="header__content">
    <div class="user-info">
      <div class="logo info-item">
     
        <img class="user-icon" id="avatar" src="" alt="avatar">
      </div>
      <div class="user-stat">

        <div class="user-name info-item" id="name"></div>

        <div class="stars-earned info-item" id="stars-earned">Earned: 0 ‚≠ê</div>
      </div>
    </div>
    <div class="user-balance info-item">

       <p class="stars-balance"> <span id="stars-balance">0 ‚≠ê</span></p>
    </div>
  </div>
</header>
  <main>
    <!-- Page 1 -->
    <section id="page-ad" class="page active section__page-ad">
      <section class="section-search">
          <h1 class="section__title">All available ads: </h1>
          
          <div class="search-container">
            <div class="search-wrapper">
            <input id="searchInput" type="text" placeholder="Search by hashtag... (#fun, #business)" autocomplete="off"/>
              <button id="clearSearchBtn" class="clear-search" aria-label="Clear search">
                <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 8L8 16M8.00001 8L16 16" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
              </button>
            </div>
            <button class="update-list__button"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M3 12C3 16.9706 7.02944 21 12 21C14.3051 21 16.4077 20.1334 18 18.7083L21 16M21 12C21 7.02944 16.9706 3 12 3C9.69494 3 7.59227 3.86656 6 5.29168L3 8M21 21V16M21 16H16M3 3V8M3 8H8" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg></button>
            <ul id="suggestionsList" class="suggestions"></ul>
          </div>
          <p id="noResults" class="no-results">Nothing found üòï Try another hashtag</p>
          </section>
      <div class="section-header">
        <div class="section-header__content">
          
          <div class="section-header__blocks">
            
           

          </div>
        </div>
      </div>
      <button id="adminPanelBtn" style="display:none;" class="admin-btn">
  ‚öôÔ∏è Admin Panel
    </button>
    </section>

    <!-- cases -->
    <section id="page-cases" class="page">
  <div class="section-cases">
    <div class="section-cases__content">
      <h1 class="section__title">Cases: </h1>
      <div class="section-cases__blocks"> 

        <a class="case-block" href="#" onclick="showPage('case-durov', event)">
          <div class="case-block__head">
            <img class="case-block__img" src="images/durov.jpg" alt="item">
          </div>
          <div class="case-block__bottom">
            <h2 class="case-block__title">Durov's Case</h2>
            <div class="case-block__desc">Try your luck and win stars!</div>
            <div class="case-block__price">Price: 150 ‚≠ê</div>
          </div>
        </a>
        <a class="case-block" href="#" onclick="showPage('case-oldmoney', event)">
          <div class="case-block__head">
            <img class="case-block__img" src="images/durov.jpg" alt="case-block">
          </div>
          <div class="case-block__bottom">
            <h2 class="case-block__title">GemAd Case</h2>
            <div class="case-block__desc">Try your luck and win stars!</div>
            <div class="case-block__price">Price: 1000 ‚≠ê</div>
          </div>
        </a>

      </div>

      <a class="back-button" href="#" onclick="showPage('page-ad', event)">
        <img style="width: 25px; height: 25px;" src="images/left-arrow.svg" alt="back">
      </a>
    </div>
  </div>
</section>


    <section id="case-durov" class="page">
      <div class="case-durov">
      <h1 class="section__title">Durov's Case</h1>
      <div class="viewport" id="viewport">
    <div class="strip" id="strip"></div>
    <div class="indicator" aria-hidden="true"></div>
  </div>

  <button class="spin-btn" id="spin">Spin 150 ‚≠ê</button>
  <div id="result"></div>
      <a class="back-button" href="#" onclick="showPage('page-cases', event)"> <img style="width: 25px; height: 25px;" src="images/left-arrow.svg" alt="back"> </a>
      
      </div>
    </section>
    <section id="case-oldmoney" class="page">
      <div class="case-durov">
      <h1 class="section__title">GemAd Case</h1>
      <div class="viewport" id="viewport2">
    <div class="strip" id="strip2"></div>
    <div class="indicator" aria-hidden="true"></div>
  </div>

  <button class="spin-btn" id="spin2">Spin 1000 ‚≠ê</button>
  <div id="result2"></div>
      <a class="back-button" href="#" onclick="showPage('page-cases', event)"> <img style="width: 25px; height: 25px;" src="images/left-arrow.svg" alt="back"> </a>
      
      </div>
    </section>
    

<!-- === ADMIN PAGE === -->
<section id="page-admin" class="page">
  <div class="admin-page">
    <h1 class="section__title">Admin Panel</h1>

    <div class="admin-upload">
      <label for="adImage">üì∏ Upload image:</label>
      <input type="file" id="adImage" accept="image/*" />

      <label for="adTitle">Title:</label>
      <input type="text" id="adTitle" placeholder="Ad title" />

      <label for="adDesc">Description:</label>
      <input type="text" id="adDesc" placeholder="Ad description" />

      <label for="adTags">Hashtags (comma separated):</label>
      <input type="text" id="adTags" placeholder="#fun, #business" />

      <label for="adCost">Cost (in stars):</label>
      <input type="text" id="adReward" placeholder="Reward (e.g. 15 ‚≠ê)" />

      <label for="adUsername">Username (with @):</label>
      <input type="text" id="adUsername" placeholder="Username @channel">


      <label for="adLink">Link:</label>
      <input type="text" id="adLink" placeholder="https://..." />

      <button id="uploadAdBtn" class="upload-btn">üì§ Publish Ad</button>
    </div>

    <a class="back-button" href="#" onclick="showPage('page-main', event)">
      <img style="width: 25px; height: 25px;" src="images/left-arrow.svg" alt="back">
    </a>
  </div>
</section>



  </main>

  <!-- Footer -->
  <footer>
    <div class="footer">
      <ul class="footer-nav">
        <li class="footer-nav__item active">
  <a class="ad-navigation" href="#" onclick="showPage('page-ad', event)">Ad <img class="svg" src="images/ad.svg" alt="ad-navigation"></a>
</li>
<li class="footer-nav__item">
  <a class="ad-navigation" href="#" onclick="showPage('page-cases', event)">Cases <img class="svg" src="images/case.svg" alt="case-nav"> </a>
</li>
      </ul>
    </div>
  </footer>

  <!-- tg + nav -->
   <script src="admin.js"></script>
   <script src="spin.js"></script>
   <script src="cases.js"></script>
<script>
  const tg = window.Telegram.WebApp;
  tg.expand();

  // nav
  window.showPage = function(pageId, event) {
    if (event) event.preventDefault();

    document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
    const page = document.getElementById(pageId);
    if (page) page.classList.add("active");

    document.querySelectorAll(".footer-nav__item").forEach(i => i.classList.remove("active"));
    const link = document.querySelector(`.footer-nav__item a[onclick*="${pageId}"]`);
    if (link) link.parentElement.classList.add("active");

    history.pushState({ page: pageId }, "", `#${pageId}`);
  }


  window.addEventListener("popstate", e => {
    const page = e.state?.page || "page-ad";
    window.showPage(page);
  });

</script>



<script src="lazyLoad.js"></script>

  <div id="telegram-messages"></div>


  <script src="telegram.js"></script> 
  <script src="spin.js"></script>
</body>
</html>
