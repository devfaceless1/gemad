<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>GemAd - Earn Telegram Stars!</title>
  <link rel="stylesheet" href="/reset.css">
  <link rel="stylesheet" href="/styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  <style>
    .page { display: none; }
    .page.active { display: flex; }

  </style>
</head>
<body>
  <header>
  <div class="header__content">
    <div class="user-info">
      <div class="logo info-item">
     
        <img class="user-icon" id="avatar" src="" alt="avatar">
      </div>
      <div class="user-stat">

        <div class="user-name info-item" id="name"></div>

        <div class="stars-earned info-item" id="stars-earned">Earned: 0 ‚≠ê</div>
      </div>
    </div>
    <div class="user-balance info-item">

       <p class="stars-balance"> <span id="stars-balance">0 ‚≠ê</span></p>
    </div>
  </div>
</header>
  <main>
    <!-- Page 1 -->
    <section id="page-ad" class="page active">
      <div class="section-header">
        <div class="section-header__content">
          <h1 class="section__title">All available ads: </h1>
          <div class="search-container">
            <input id="searchInput" type="text" placeholder="Search by hashtag... (#fun, #business)" autocomplete="off"/>
            <ul id="suggestionsList" class="suggestions"></ul>
          </div>
          <p id="noResults" class="no-results">Nothing found üòï Try another hashtag</p>
          <div class="section-header__blocks">
            
           

          </div>
        </div>
      </div>
    </section>

    <!-- cases -->
    <section id="page-cases" class="page">
  <div class="section-cases">
    <div class="section-cases__content">
      <h1 class="section__title">Cases: </h1>
      <div class="section-cases__blocks"> 

        <a class="case-block" href="#" onclick="showPage('case-durov', event)">
          <div class="case-block__head">
            <img class="case-block__img" src="images/durov.jpg" alt="item">
          </div>
          <div class="case-block__bottom">
            <h2 class="case-block__title">Durov's Case</h2>
            <div class="case-block__desc">Try your luck and win stars!</div>
            <div class="case-block__price">Price: 200 ‚≠ê</div>
          </div>
        </a>

      </div>

      <a class="back-button" href="#" onclick="showPage('page-ad', event)">
        <img style="width: 30px; height: 30px;" src="images/left-arrow.svg" alt="back">
      </a>
    </div>
  </div>
</section>


    <section id="case-durov" class="page">
      <div class="case-durov">
      <h1 class="section__title">Durov's Case</h1>
      <div class="viewport" id="viewport">
    <div class="strip" id="strip"></div>
    <div class="indicator" aria-hidden="true"></div>
  </div>

  <button class="spin-btn" id="spin">Spin 200 ‚≠ê</button>
  <div id="result"></div>
      <a class="back-button" href="#" onclick="showPage('page-cases', event)"> <img style="width: 30px; height: 30px;" src="images/left-arrow.svg" alt="back"> </a>
      
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer">
      <ul class="footer-nav">
        <li class="footer-nav__item active">
  <a class="ad-navigation" href="#" onclick="showPage('page-ad', event)">Ad <img class="svg" src="images/ad.svg" alt="ad-navigation"></a>
</li>
<li class="footer-nav__item">
  <a class="ad-navigation" href="#" onclick="showPage('page-cases', event)">Cases <img class="svg" src="images/case.svg" alt="case-nav"> </a>
</li>
      </ul>
    </div>
  </footer>

  <!-- tg + nav -->
   <script src="spin.js"></script>
<script>
  const tg = window.Telegram.WebApp;
  tg.expand();

  // nav
  window.showPage = function(pageId, event) {
    if (event) event.preventDefault();

    document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
    const page = document.getElementById(pageId);
    if (page) page.classList.add("active");

    document.querySelectorAll(".footer-nav__item").forEach(i => i.classList.remove("active"));
    const link = document.querySelector(`.footer-nav__item a[onclick*="${pageId}"]`);
    if (link) link.parentElement.classList.add("active");

    history.pushState({ page: pageId }, "", `#${pageId}`);
  }


  window.addEventListener("popstate", e => {
    const page = e.state?.page || "page-ad";
    window.showPage(page);
  });

</script>



<script src="lazyLoad.js"></script>

  <div id="telegram-messages"></div>


  <script src="telegram.js"></script> 
  <script src="spin.js"></script>
</body>
</html>
